#!/bin/sh

capacity=$(cat /sys/class/power_supply/BAT0/capacity) || break
stats=$(sed "s/[Dd]ischarging//;s/[Nn]ot charging//;s/[Cc]harging//;s/[Uu]nknown//;s/[Ff]ull//" /sys/class/power_supply/BAT0/status)


if [ $capacity -le 10 ]; then
    icon=""
elif [ $capacity -le 30 ]; then
    icon=""
elif [ $capacity -le 50 ]; then
    icon=""
elif [ $capacity -le 75 ]; then
    icon=""
else 
    icon=""
fi

	# If it is discharging and 25% or less, we will add a  as a warning.
	 [ "$capacity" -le 25 ] && [ "$stats" = "" ] && warn=""
	printf "%s %s%s%%%s\n" "$icon" "$warn" "$capacity" "$stats"
	unset warn
